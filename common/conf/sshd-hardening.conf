# Managed by infra-init (sshd-hardening)
# These options are included via /etc/ssh/sshd_config.d/

Protocol 2

# Listening port
Port 22

# Disable direct root login
PermitRootLogin no

# Key-only authentication
PasswordAuthentication no
KbdInteractiveAuthentication no
ChallengeResponseAuthentication no
PermitEmptyPasswords no
PubkeyAuthentication yes

# Misc hardening
X11Forwarding no
AllowTcpForwarding yes
AllowAgentForwarding yes
UseDNS no

# Idle client handling
ClientAliveInterval 60
ClientAliveCountMax 3

# Cosmetic
PrintMotd no
PrintLastLog yes
